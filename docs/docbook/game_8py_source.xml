<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_game_8py_source" xml:lang="en-US">
<title>game.py</title>
<indexterm><primary>systems/game.py</primary></indexterm>
Go to the documentation of this file.<programlisting linenumbering="unnumbered"><anchor xml:id="_game_8py_source_1l00001"/><link linkend="_namespacesystems_1_1game">00001</link> <emphasis role="keyword">from</emphasis>&#32;.database&#32;<emphasis role="keyword">import</emphasis>&#32;Database
<anchor xml:id="_game_8py_source_1l00002"/>00002 <emphasis role="keyword">from</emphasis>&#32;.player&#32;<emphasis role="keyword">import</emphasis>&#32;Player
<anchor xml:id="_game_8py_source_1l00003"/>00003 <emphasis role="keyword">from</emphasis>&#32;.quests&#32;<emphasis role="keyword">import</emphasis>&#32;Quest
<anchor xml:id="_game_8py_source_1l00004"/>00004 <emphasis role="keyword">from</emphasis>&#32;.recipe&#32;<emphasis role="keyword">import</emphasis>&#32;Recipe
<anchor xml:id="_game_8py_source_1l00005"/><link linkend="_classsystems_1_1game_1_1_game">00005</link> <emphasis role="keyword">class&#32;</emphasis><link linkend="_classsystems_1_1game_1_1_game">Game</link>(object):
<anchor xml:id="_game_8py_source_1l00006"/><link linkend="_classsystems_1_1game_1_1_game_1a0dad2af0de9d446b1c89ff17b6b3967c">00006</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classsystems_1_1game_1_1_game_1a0dad2af0de9d446b1c89ff17b6b3967c">__init__</link>(self):
<anchor xml:id="_game_8py_source_1l00007"/><link linkend="_classsystems_1_1game_1_1_game_1a8d2c7ed5a3b01cdfbc317e59fd0b9f40">00007</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1a8d2c7ed5a3b01cdfbc317e59fd0b9f40">people</link>&#32;=&#32;{}
<anchor xml:id="_game_8py_source_1l00008"/><link linkend="_classsystems_1_1game_1_1_game_1ab59fb836a7c2cb5a1a297f4383bdf374">00008</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1ab59fb836a7c2cb5a1a297f4383bdf374">db</link>&#32;&#32;=&#32;<link linkend="_classsystems_1_1database_1_1_database">Database</link>()
<anchor xml:id="_game_8py_source_1l00009"/><link linkend="_classsystems_1_1game_1_1_game_1ab7e5f01f31ac2c8d44fccad531402534">00009</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1ab7e5f01f31ac2c8d44fccad531402534">player</link>&#32;=&#32;<link linkend="_classsystems_1_1player_1_1_player">Player</link>()
<anchor xml:id="_game_8py_source_1l00010"/>00010 &#32;&#32;&#32;&#32;<emphasis role="comment">#&#32;characters&#32;=&#32;{</emphasis>
<anchor xml:id="_game_8py_source_1l00011"/>00011 &#32;&#32;&#32;&#32;<emphasis role="comment">#&#32;&#32;&#32;#&#32;list&#32;of&#32;character&#32;and&#32;info</emphasis>
<anchor xml:id="_game_8py_source_1l00012"/>00012 &#32;&#32;&#32;&#32;<emphasis role="comment">#&#32;}</emphasis>
<anchor xml:id="_game_8py_source_1l00013"/><link linkend="_classsystems_1_1game_1_1_game_1a97ee49e450667af7d6b5ad9a7365fa94">00013</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classsystems_1_1game_1_1_game_1a97ee49e450667af7d6b5ad9a7365fa94">setup</link>(self,
<anchor xml:id="_game_8py_source_1l00014"/>00014 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;people&#32;=&#32;None,
<anchor xml:id="_game_8py_source_1l00015"/>00015 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;locations&#32;=&#32;None,
<anchor xml:id="_game_8py_source_1l00016"/>00016 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;from_db&#32;=&#32;False,
<anchor xml:id="_game_8py_source_1l00017"/>00017 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;fps&#32;=&#32;{},
<anchor xml:id="_game_8py_source_1l00018"/>00018 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;items&#32;=&#32;[],
<anchor xml:id="_game_8py_source_1l00019"/>00019 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;recipes&#32;=&#32;[],
<anchor xml:id="_game_8py_source_1l00020"/>00020 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;quests&#32;=&#32;[]
<anchor xml:id="_game_8py_source_1l00021"/>00021 &#32;&#32;&#32;&#32;):
<anchor xml:id="_game_8py_source_1l00022"/>00022 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;Setup&#32;the&#32;Game&#32;Object</emphasis>
<anchor xml:id="_game_8py_source_1l00023"/>00023 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_game_8py_source_1l00024"/>00024 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Keyword&#32;Arguments:</emphasis>
<anchor xml:id="_game_8py_source_1l00025"/>00025 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;people&#32;--&#32;a&#32;list&#32;of&#32;people&#32;objects</emphasis>
<anchor xml:id="_game_8py_source_1l00026"/>00026 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;locations&#32;--&#32;a&#32;list&#32;of&#32;locations</emphasis>
<anchor xml:id="_game_8py_source_1l00027"/>00027 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;from_db&#32;--&#32;Whether&#32;</emphasis><emphasis role="keywordflow">or</emphasis>&#32;<emphasis role="keywordflow">not</emphasis>&#32;to&#32;setup&#32;game&#32;<emphasis role="keyword">from</emphasis>&#32;a&#32;Database&#32;-&#32;Currently&#32;unimplemented
<anchor xml:id="_game_8py_source_1l00028"/>00028 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;fps&#32;--&#32;A&#32;dict&#32;of&#32;file-like&#32;objects&#32;used&#32;to&#32;initialize&#32;the&#32;Database
<anchor xml:id="_game_8py_source_1l00029"/>00029 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;items&#32;--&#32;a&#32;list&#32;of&#32;Item&#32;objects
<anchor xml:id="_game_8py_source_1l00030"/>00030 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;recipes&#32;--&#32;a&#32;list&#32;of&#32;Recipe&#32;objects
<anchor xml:id="_game_8py_source_1l00031"/>00031 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;quests&#32;--&#32;a&#32;list&#32;of&#32;Quest&#32;objects
<anchor xml:id="_game_8py_source_1l00032"/>00032 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_game_8py_source_1l00033"/>00033 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</emphasis><emphasis role="keywordflow">if</emphasis>&#32;from_db:
<anchor xml:id="_game_8py_source_1l00034"/>00034 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">#&#32;Todo:&#32;make&#32;this&#32;actually&#32;work.&#32;Issue&#32;is,&#32;opening&#32;Files&#32;in&#32;RENPY&#32;is&#32;annoying.</emphasis>
<anchor xml:id="_game_8py_source_1l00035"/>00035 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>
<anchor xml:id="_game_8py_source_1l00036"/>00036 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1ab59fb836a7c2cb5a1a297f4383bdf374">db</link>.load_items_from_file(fps[<emphasis role="stringliteral">&apos;items&apos;</emphasis>])
<anchor xml:id="_game_8py_source_1l00037"/>00037 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1ab59fb836a7c2cb5a1a297f4383bdf374">db</link>.load_recipes_from_file(fps[<emphasis role="stringliteral">&apos;recipes&apos;</emphasis>])
<anchor xml:id="_game_8py_source_1l00038"/>00038 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>:
<anchor xml:id="_game_8py_source_1l00039"/>00039 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;people:
<anchor xml:id="_game_8py_source_1l00040"/>00040 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1a8d2c7ed5a3b01cdfbc317e59fd0b9f40">people</link>&#32;=&#32;people
<anchor xml:id="_game_8py_source_1l00041"/>00041 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;locations:
<anchor xml:id="_game_8py_source_1l00042"/><link linkend="_classsystems_1_1game_1_1_game_1a8ff7162c9f84eb5bd70e3f5ac1c46716">00042</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1a8ff7162c9f84eb5bd70e3f5ac1c46716">location</link>&#32;=&#32;locations
<anchor xml:id="_game_8py_source_1l00043"/>00043 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;items:
<anchor xml:id="_game_8py_source_1l00044"/>00044 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1ab59fb836a7c2cb5a1a297f4383bdf374">db</link>.set_items(items)
<anchor xml:id="_game_8py_source_1l00045"/>00045 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;recipes:
<anchor xml:id="_game_8py_source_1l00046"/>00046 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;i&#32;<emphasis role="keywordflow">in</emphasis>&#32;recipes:
<anchor xml:id="_game_8py_source_1l00047"/>00047 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1ab59fb836a7c2cb5a1a297f4383bdf374">db</link>.recipes[i.id]&#32;=&#32;i
<anchor xml:id="_game_8py_source_1l00048"/>00048 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;quests:
<anchor xml:id="_game_8py_source_1l00049"/>00049 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;i&#32;<emphasis role="keywordflow">in</emphasis>&#32;quests:
<anchor xml:id="_game_8py_source_1l00050"/>00050 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1ab59fb836a7c2cb5a1a297f4383bdf374">db</link>.quests[i.id]&#32;=&#32;i
<anchor xml:id="_game_8py_source_1l00051"/>00051 
<anchor xml:id="_game_8py_source_1l00052"/><link linkend="_classsystems_1_1game_1_1_game_1ae1914099705c785ad7b1d88a1481fd7e">00052</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classsystems_1_1game_1_1_game_1ae1914099705c785ad7b1d88a1481fd7e">start_quest</link>(self,&#32;quest_id=&#32;None,&#32;quest_object&#32;=&#32;None):
<anchor xml:id="_game_8py_source_1l00053"/>00053 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_game_8py_source_1l00054"/>00054 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Starts&#32;a&#32;Quest,&#32;the&#32;updates&#32;the&#32;game&#32;object&apos;s&#32;state.</emphasis>
<anchor xml:id="_game_8py_source_1l00055"/>00055 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_game_8py_source_1l00056"/>00056 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Keyword&#32;Arguments</emphasis>
<anchor xml:id="_game_8py_source_1l00057"/>00057 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;quest_id&#32;--&#32;the&#32;ID&#32;of&#32;the&#32;quest</emphasis>
<anchor xml:id="_game_8py_source_1l00058"/>00058 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;quest_object&#32;--&#32;a&#32;quest&#32;object</emphasis>
<anchor xml:id="_game_8py_source_1l00059"/>00059 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Only&#32;one&#32;</emphasis><emphasis role="keywordflow">is</emphasis>&#32;required.
<anchor xml:id="_game_8py_source_1l00060"/>00060 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_game_8py_source_1l00061"/>00061 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</emphasis><emphasis role="keywordflow">if</emphasis>&#32;<emphasis role="keywordflow">not</emphasis>&#32;(isinstance(quest_id,&#32;str)&#32;<emphasis role="keywordflow">or</emphasis>&#32;type(quest_id)&#32;!=&#32;<emphasis role="keywordtype">None</emphasis>):
<anchor xml:id="_game_8py_source_1l00062"/>00062 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">raise</emphasis>&#32;TypeError(<emphasis role="stringliteral">&quot;quest_id&#32;is&#32;not&#32;a&#32;&lt;str&gt;,&#32;is&#32;type&#32;{}&quot;</emphasis>.format(type(quest_id)))
<anchor xml:id="_game_8py_source_1l00063"/>00063 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;<emphasis role="keywordflow">not</emphasis>&#32;(isinstance(quest_object,&#32;Quest)&#32;<emphasis role="keywordflow">or</emphasis>&#32;type(quest_object)&#32;!=&#32;<emphasis role="keywordtype">None</emphasis>):
<anchor xml:id="_game_8py_source_1l00064"/>00064 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">raise</emphasis>&#32;TypeError(<emphasis role="stringliteral">&quot;quest_object&#32;is&#32;not&#32;a&#32;&lt;Quest&gt;&quot;</emphasis>)
<anchor xml:id="_game_8py_source_1l00065"/>00065 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;quest_id&#32;<emphasis role="keywordflow">and</emphasis>&#32;<emphasis role="keywordflow">not</emphasis>&#32;quest_object:
<anchor xml:id="_game_8py_source_1l00066"/>00066 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1ab7e5f01f31ac2c8d44fccad531402534">player</link>.<link linkend="_classsystems_1_1game_1_1_game_1ae1914099705c785ad7b1d88a1481fd7e">start_quest</link>(quest_id,&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1ab59fb836a7c2cb5a1a297f4383bdf374">db</link>.get_quest(quest_id))
<anchor xml:id="_game_8py_source_1l00067"/>00067 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">elif</emphasis>&#32;quest_id&#32;<emphasis role="keywordflow">and</emphasis>&#32;quest_object:
<anchor xml:id="_game_8py_source_1l00068"/>00068 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1ab7e5f01f31ac2c8d44fccad531402534">player</link>.<link linkend="_classsystems_1_1game_1_1_game_1ae1914099705c785ad7b1d88a1481fd7e">start_quest</link>(quest_id,&#32;quest_object)
<anchor xml:id="_game_8py_source_1l00069"/>00069 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">elif</emphasis>&#32;quest_object:
<anchor xml:id="_game_8py_source_1l00070"/>00070 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1ab7e5f01f31ac2c8d44fccad531402534">player</link>.<link linkend="_classsystems_1_1game_1_1_game_1ae1914099705c785ad7b1d88a1481fd7e">start_quest</link>(quest_object.id,&#32;quest_object)
<anchor xml:id="_game_8py_source_1l00071"/>00071 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>:
<anchor xml:id="_game_8py_source_1l00072"/>00072 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">raise</emphasis>&#32;ValueError()
<anchor xml:id="_game_8py_source_1l00073"/>00073 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1acb1e8ccfd196c887f110ee3a8f12d2b9">update</link>()
<anchor xml:id="_game_8py_source_1l00074"/>00074 &#32;&#32;&#32;&#32;
<anchor xml:id="_game_8py_source_1l00075"/>00075 &#32;&#32;&#32;&#32;
<anchor xml:id="_game_8py_source_1l00076"/>00076 
<anchor xml:id="_game_8py_source_1l00077"/>00077 
<anchor xml:id="_game_8py_source_1l00078"/><link linkend="_classsystems_1_1game_1_1_game_1acb1e8ccfd196c887f110ee3a8f12d2b9">00078</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classsystems_1_1game_1_1_game_1acb1e8ccfd196c887f110ee3a8f12d2b9">update</link>(self):
<anchor xml:id="_game_8py_source_1l00079"/>00079 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_game_8py_source_1l00080"/>00080 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Updates&#32;the&#32;Game&#32;object&apos;s&#32;state</emphasis>
<anchor xml:id="_game_8py_source_1l00081"/>00081 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_game_8py_source_1l00082"/>00082 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1aa72bcad0b355393a8909707989bd6578">update_quests</link>()</emphasis>
<anchor xml:id="_game_8py_source_1l00083"/>00083 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</emphasis><emphasis role="keywordflow">pass</emphasis>
<anchor xml:id="_game_8py_source_1l00084"/>00084 
<anchor xml:id="_game_8py_source_1l00085"/><link linkend="_classsystems_1_1game_1_1_game_1aa72bcad0b355393a8909707989bd6578">00085</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classsystems_1_1game_1_1_game_1aa72bcad0b355393a8909707989bd6578">update_quests</link>(self):
<anchor xml:id="_game_8py_source_1l00086"/>00086 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_game_8py_source_1l00087"/>00087 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Updates&#32;all&#32;active&#32;quests.</emphasis>
<anchor xml:id="_game_8py_source_1l00088"/>00088 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_game_8py_source_1l00089"/>00089 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;More&#32;to&#32;be&#32;implemented&#32;soon.</emphasis>
<anchor xml:id="_game_8py_source_1l00090"/>00090 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;&quot;&quot;</emphasis>
<anchor xml:id="_game_8py_source_1l00091"/>00091 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</emphasis><emphasis role="keywordflow">for</emphasis>&#32;q&#32;<emphasis role="keywordflow">in</emphasis>&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1ab7e5f01f31ac2c8d44fccad531402534">player</link>.questlog.get_active():&#32;<emphasis role="comment">#&#32;Get&#32;all&#32;active&#32;quests</emphasis>
<anchor xml:id="_game_8py_source_1l00092"/>00092 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;stage&#32;=&#32;q.get_stage()&#32;<emphasis role="comment">#&#32;Get&#32;all&#32;of&#32;q&apos;s&#32;stages</emphasis>
<anchor xml:id="_game_8py_source_1l00093"/>00093 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;stage_complete&#32;=&#32;<emphasis role="keyword">True</emphasis>&#32;<emphasis role="comment">#&#32;intermediate&#32;variable</emphasis>
<anchor xml:id="_game_8py_source_1l00094"/>00094 
<anchor xml:id="_game_8py_source_1l00095"/>00095 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">#&#32;TODO:&#32;implement&#32;stage&#32;check&#32;logic</emphasis>
<anchor xml:id="_game_8py_source_1l00096"/>00096 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;substage&#32;<emphasis role="keywordflow">in</emphasis>&#32;stage.substages:
<anchor xml:id="_game_8py_source_1l00097"/>00097 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;r&#32;=&#32;substage.requirements
<anchor xml:id="_game_8py_source_1l00098"/>00098 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;complete&#32;=&#32;<emphasis role="keyword">True</emphasis>
<anchor xml:id="_game_8py_source_1l00099"/>00099 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;<emphasis role="stringliteral">&quot;item&quot;</emphasis>&#32;<emphasis role="keywordflow">in</emphasis>&#32;r:
<anchor xml:id="_game_8py_source_1l00100"/>00100 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">#&#32;print(reqs[&apos;item&apos;])</emphasis>
<anchor xml:id="_game_8py_source_1l00101"/>00101 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;items_present&#32;=&#32;[(i&#32;<emphasis role="keywordflow">in</emphasis>&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1ab7e5f01f31ac2c8d44fccad531402534">player</link>.inventory)&#32;<emphasis role="keywordflow">for</emphasis>&#32;i&#32;<emphasis role="keywordflow">in</emphasis>&#32;r[<emphasis role="stringliteral">&apos;item&apos;</emphasis>][<emphasis role="stringliteral">&apos;ids&apos;</emphasis>]]
<anchor xml:id="_game_8py_source_1l00102"/>00102 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;r[<emphasis role="stringliteral">&apos;item&apos;</emphasis>][<emphasis role="stringliteral">&apos;all&apos;</emphasis>]:
<anchor xml:id="_game_8py_source_1l00103"/>00103 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;<emphasis role="keywordflow">not</emphasis>&#32;all(items_present):
<anchor xml:id="_game_8py_source_1l00104"/>00104 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;complete&#32;=&#32;<emphasis role="keyword">False</emphasis>
<anchor xml:id="_game_8py_source_1l00105"/>00105 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>:
<anchor xml:id="_game_8py_source_1l00106"/>00106 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;<emphasis role="keywordflow">not</emphasis>&#32;any(items_present):
<anchor xml:id="_game_8py_source_1l00107"/>00107 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;complete&#32;=&#32;<emphasis role="keyword">False</emphasis>
<anchor xml:id="_game_8py_source_1l00108"/>00108 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;complete:
<anchor xml:id="_game_8py_source_1l00109"/>00109 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;substage.complete&#32;=&#32;<emphasis role="keyword">True</emphasis>
<anchor xml:id="_game_8py_source_1l00110"/>00110 
<anchor xml:id="_game_8py_source_1l00111"/>00111 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;reqs&#32;=&#32;stage.requirements
<anchor xml:id="_game_8py_source_1l00112"/>00112 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;<emphasis role="stringliteral">&quot;substage&quot;</emphasis>&#32;<emphasis role="keywordflow">in</emphasis>&#32;reqs:
<anchor xml:id="_game_8py_source_1l00113"/>00113 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;completed_stages&#32;=&#32;[s.complete&#32;<emphasis role="keywordflow">for</emphasis>&#32;s&#32;<emphasis role="keywordflow">in</emphasis>&#32;stage.substages]
<anchor xml:id="_game_8py_source_1l00114"/>00114 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;reqs[<emphasis role="stringliteral">&apos;substage&apos;</emphasis>]&#32;==&#32;<emphasis role="stringliteral">&apos;all&apos;</emphasis>:
<anchor xml:id="_game_8py_source_1l00115"/>00115 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;<emphasis role="keywordflow">not</emphasis>&#32;all(completed_stages):
<anchor xml:id="_game_8py_source_1l00116"/>00116 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;stage_complete&#32;=&#32;<emphasis role="keyword">False</emphasis>&#32;
<anchor xml:id="_game_8py_source_1l00117"/>00117 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;reqs[<emphasis role="stringliteral">&apos;substage&apos;</emphasis>]&#32;==&#32;<emphasis role="stringliteral">&apos;any&apos;</emphasis>:
<anchor xml:id="_game_8py_source_1l00118"/>00118 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;<emphasis role="keywordflow">not</emphasis>&#32;any(completed_stages):
<anchor xml:id="_game_8py_source_1l00119"/>00119 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;stage_complete&#32;=&#32;<emphasis role="keyword">False</emphasis>
<anchor xml:id="_game_8py_source_1l00120"/>00120 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;<emphasis role="stringliteral">&quot;item&quot;</emphasis>&#32;<emphasis role="keywordflow">in</emphasis>&#32;reqs:
<anchor xml:id="_game_8py_source_1l00121"/>00121 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">#&#32;print(reqs[&apos;item&apos;])</emphasis>
<anchor xml:id="_game_8py_source_1l00122"/>00122 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;items_present&#32;=&#32;[(i&#32;<emphasis role="keywordflow">in</emphasis>&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1ab7e5f01f31ac2c8d44fccad531402534">player</link>.inventory)&#32;<emphasis role="keywordflow">for</emphasis>&#32;i&#32;<emphasis role="keywordflow">in</emphasis>&#32;reqs[<emphasis role="stringliteral">&apos;item&apos;</emphasis>][<emphasis role="stringliteral">&apos;ids&apos;</emphasis>]]
<anchor xml:id="_game_8py_source_1l00123"/>00123 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;reqs[<emphasis role="stringliteral">&apos;item&apos;</emphasis>][<emphasis role="stringliteral">&apos;all&apos;</emphasis>]:
<anchor xml:id="_game_8py_source_1l00124"/>00124 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;<emphasis role="keywordflow">not</emphasis>&#32;all(items_present):
<anchor xml:id="_game_8py_source_1l00125"/>00125 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;stage_complete&#32;=&#32;<emphasis role="keyword">False</emphasis>
<anchor xml:id="_game_8py_source_1l00126"/>00126 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>:
<anchor xml:id="_game_8py_source_1l00127"/>00127 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;<emphasis role="keywordflow">not</emphasis>&#32;any(items_present):
<anchor xml:id="_game_8py_source_1l00128"/>00128 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;stage_complete&#32;=&#32;<emphasis role="keyword">False</emphasis>
<anchor xml:id="_game_8py_source_1l00129"/>00129 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;stage_complete:
<anchor xml:id="_game_8py_source_1l00130"/>00130 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;stage.complete&#32;=&#32;<emphasis role="keyword">True</emphasis>
<anchor xml:id="_game_8py_source_1l00131"/>00131 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;q.next_stage()
<anchor xml:id="_game_8py_source_1l00132"/>00132 
<anchor xml:id="_game_8py_source_1l00133"/><link linkend="_classsystems_1_1game_1_1_game_1a754f6b7421c5f8a1cb28862aa4ec64a5">00133</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classsystems_1_1game_1_1_game_1a754f6b7421c5f8a1cb28862aa4ec64a5">set_selected_quest</link>(self,&#32;quest_id):
<anchor xml:id="_game_8py_source_1l00134"/>00134 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;Returns&#32;Quest&#32;with&#32;given&#32;ID&quot;&quot;&quot;</emphasis>
<anchor xml:id="_game_8py_source_1l00135"/>00135 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1ab7e5f01f31ac2c8d44fccad531402534">player</link>.questlog.set_selected_quest(quest_id)
<anchor xml:id="_game_8py_source_1l00136"/>00136 
<anchor xml:id="_game_8py_source_1l00137"/><link linkend="_classsystems_1_1game_1_1_game_1a224faddfdd1c9e37591656faa9daddac">00137</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classsystems_1_1game_1_1_game_1a224faddfdd1c9e37591656faa9daddac">get_selected_quest</link>(self):
<anchor xml:id="_game_8py_source_1l00138"/>00138 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;Returns&#32;the&#32;currently&#32;selected&#32;Quest&quot;&quot;&quot;</emphasis>
<anchor xml:id="_game_8py_source_1l00139"/>00139 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1ab7e5f01f31ac2c8d44fccad531402534">player</link>.questlog.selected_quest
<anchor xml:id="_game_8py_source_1l00140"/>00140 
<anchor xml:id="_game_8py_source_1l00141"/><link linkend="_classsystems_1_1game_1_1_game_1a6d165b08a47f46fe29cea84926cce40e">00141</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classsystems_1_1game_1_1_game_1a6d165b08a47f46fe29cea84926cce40e">add_item</link>(self,&#32;item,&#32;count=&#32;1):
<anchor xml:id="_game_8py_source_1l00142"/>00142 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;Adds&#32;an&#32;item&#32;to&#32;the&#32;Player&apos;s&#32;inventory.</emphasis>
<anchor xml:id="_game_8py_source_1l00143"/>00143 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</emphasis>
<anchor xml:id="_game_8py_source_1l00144"/>00144 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Keyword&#32;Arguments:</emphasis>
<anchor xml:id="_game_8py_source_1l00145"/>00145 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;item&#32;--&#32;id&#32;</emphasis><emphasis role="keywordflow">or</emphasis>&#32;Item&#32;object&#32;to&#32;add
<anchor xml:id="_game_8py_source_1l00146"/>00146 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;count&#32;--&#32;amount&#32;of&#32;the&#32;item&#32;to&#32;add&#32;(default:&#32;1)
<anchor xml:id="_game_8py_source_1l00147"/>00147 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_game_8py_source_1l00148"/>00148 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1ab7e5f01f31ac2c8d44fccad531402534">player</link>.<link linkend="_classsystems_1_1game_1_1_game_1a6d165b08a47f46fe29cea84926cce40e">add_item</link>(item,&#32;count)</emphasis>
<anchor xml:id="_game_8py_source_1l00149"/>00149 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1acb1e8ccfd196c887f110ee3a8f12d2b9">update</link>()</emphasis>
<anchor xml:id="_game_8py_source_1l00150"/><link linkend="_classsystems_1_1game_1_1_game_1af81c50ef6681a4f03ee49b47c2997ea5">00150</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;</emphasis><emphasis role="keyword">def&#32;</emphasis><link linkend="_classsystems_1_1game_1_1_game_1af81c50ef6681a4f03ee49b47c2997ea5">remove_item</link>(self,&#32;item,&#32;count=&#32;1):
<anchor xml:id="_game_8py_source_1l00151"/>00151 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_game_8py_source_1l00152"/>00152 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Removes&#32;an&#32;Item&#32;</emphasis><emphasis role="keyword">from</emphasis>&#32;the&#32;Player<emphasis role="stringliteral">&apos;s&#32;Inventory.</emphasis>
<anchor xml:id="_game_8py_source_1l00153"/>00153 <emphasis role="stringliteral"></emphasis>
<anchor xml:id="_game_8py_source_1l00154"/>00154 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Keyword&#32;arguments:</emphasis>
<anchor xml:id="_game_8py_source_1l00155"/>00155 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Keyword&#32;Arguments:</emphasis>
<anchor xml:id="_game_8py_source_1l00156"/>00156 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;item&#32;--&#32;id&#32;</emphasis><emphasis role="keywordflow">or</emphasis>&#32;Item&#32;object&#32;to&#32;remove
<anchor xml:id="_game_8py_source_1l00157"/>00157 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;count&#32;--&#32;amount&#32;of&#32;the&#32;item&#32;to&#32;add&#32;(default:&#32;1)
<anchor xml:id="_game_8py_source_1l00158"/>00158 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_game_8py_source_1l00159"/>00159 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1ab7e5f01f31ac2c8d44fccad531402534">player</link>.<link linkend="_classsystems_1_1game_1_1_game_1af81c50ef6681a4f03ee49b47c2997ea5">remove_item</link>(item,&#32;count)</emphasis>
<anchor xml:id="_game_8py_source_1l00160"/>00160 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1acb1e8ccfd196c887f110ee3a8f12d2b9">update</link>()</emphasis>
<anchor xml:id="_game_8py_source_1l00161"/>00161 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;</emphasis>
<anchor xml:id="_game_8py_source_1l00162"/><link linkend="_classsystems_1_1game_1_1_game_1add0f2fab59333e3ac55472e401b9e58c">00162</link> <emphasis role="stringliteral">&#32;&#32;&#32;&#32;</emphasis><emphasis role="keyword">def&#32;</emphasis><link linkend="_classsystems_1_1game_1_1_game_1add0f2fab59333e3ac55472e401b9e58c">craft</link>(self,&#32;recipe):
<anchor xml:id="_game_8py_source_1l00163"/>00163 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_game_8py_source_1l00164"/>00164 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Crafts&#32;Recipe.</emphasis>
<anchor xml:id="_game_8py_source_1l00165"/>00165 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</emphasis>
<anchor xml:id="_game_8py_source_1l00166"/>00166 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Checks&#32;player&apos;s&#32;inventory&#32;for&#32;required&#32;Item(s),&#32;removes&#32;them&#32;from&#32;the&#32;player&apos;</emphasis>s&#32;inventory,&#32;adds&#32;the&#32;crafted&#32;Item(s),&#32;then&#32;updates&#32;the&#32;Game&#32;object.
<anchor xml:id="_game_8py_source_1l00167"/>00167 
<anchor xml:id="_game_8py_source_1l00168"/>00168 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Arguments:
<anchor xml:id="_game_8py_source_1l00169"/>00169 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;recipe&#32;--&#32;id&#32;<emphasis role="keywordflow">or</emphasis>&#32;Recipe&#32;object&#32;to&#32;craft
<anchor xml:id="_game_8py_source_1l00170"/>00170 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;</emphasis>
<anchor xml:id="_game_8py_source_1l00171"/>00171 <emphasis role="stringliteral">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</emphasis><emphasis role="keywordflow">if</emphasis>&#32;isinstance(recipe,&#32;str):
<anchor xml:id="_game_8py_source_1l00172"/>00172 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;recipe&#32;<emphasis role="keywordflow">in</emphasis>&#32;[r.id&#32;<emphasis role="keywordflow">for</emphasis>&#32;r&#32;<emphasis role="keywordflow">in</emphasis>&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1a0573c02b980933786722a627c642361d">get_craftable</link>()]:&#32;<emphasis role="comment">#&#32;Check&#32;if&#32;ID&#32;is&#32;in&#32;craftable&#32;recipe&#32;list</emphasis>
<anchor xml:id="_game_8py_source_1l00173"/>00173 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;req&#32;<emphasis role="keywordflow">in</emphasis>&#32;recipe.requirements:
<anchor xml:id="_game_8py_source_1l00174"/>00174 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1af81c50ef6681a4f03ee49b47c2997ea5">remove_item</link>(req[0],&#32;req[1])
<anchor xml:id="_game_8py_source_1l00175"/>00175 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;i&#32;<emphasis role="keywordflow">in</emphasis>&#32;recipe.items:
<anchor xml:id="_game_8py_source_1l00176"/>00176 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1a6d165b08a47f46fe29cea84926cce40e">add_item</link>(self.<link linkend="_classsystems_1_1game_1_1_game_1ab59fb836a7c2cb5a1a297f4383bdf374">db</link>[i[0]],&#32;i[1])
<anchor xml:id="_game_8py_source_1l00177"/>00177 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">elif</emphasis>&#32;isinstance(recipe,&#32;Recipe):
<anchor xml:id="_game_8py_source_1l00178"/>00178 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;recipe&#32;<emphasis role="keywordflow">in</emphasis>&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1a0573c02b980933786722a627c642361d">get_craftable</link>():&#32;<emphasis role="comment">#&#32;Check&#32;if&#32;Recipe&#32;is&#32;in&#32;the&#32;craftable&#32;recipe&#32;list</emphasis>
<anchor xml:id="_game_8py_source_1l00179"/>00179 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;req&#32;<emphasis role="keywordflow">in</emphasis>&#32;recipe.requirements:
<anchor xml:id="_game_8py_source_1l00180"/>00180 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1af81c50ef6681a4f03ee49b47c2997ea5">remove_item</link>(req[0],&#32;req[1])
<anchor xml:id="_game_8py_source_1l00181"/>00181 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;i&#32;<emphasis role="keywordflow">in</emphasis>&#32;recipe.items:
<anchor xml:id="_game_8py_source_1l00182"/>00182 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1a6d165b08a47f46fe29cea84926cce40e">add_item</link>(self.<link linkend="_classsystems_1_1game_1_1_game_1ab59fb836a7c2cb5a1a297f4383bdf374">db</link>[i[0]],&#32;i[1])
<anchor xml:id="_game_8py_source_1l00183"/>00183 
<anchor xml:id="_game_8py_source_1l00184"/>00184 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>:
<anchor xml:id="_game_8py_source_1l00185"/>00185 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">raise</emphasis>&#32;TypeError(<emphasis role="stringliteral">&quot;Must&#32;be&#32;of&#32;type&#32;&lt;str&gt;&#32;or&#32;&lt;Recipe&gt;,&#32;not&#32;{}&quot;</emphasis>.format(type(recipe)))
<anchor xml:id="_game_8py_source_1l00186"/>00186 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1acb1e8ccfd196c887f110ee3a8f12d2b9">update</link>()
<anchor xml:id="_game_8py_source_1l00187"/>00187 
<anchor xml:id="_game_8py_source_1l00188"/>00188 
<anchor xml:id="_game_8py_source_1l00189"/><link linkend="_classsystems_1_1game_1_1_game_1a0573c02b980933786722a627c642361d">00189</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classsystems_1_1game_1_1_game_1a0573c02b980933786722a627c642361d">get_craftable</link>(self):
<anchor xml:id="_game_8py_source_1l00190"/>00190 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;Returns&#32;a&#32;list&#32;of&#32;craftable&#32;recipes.&quot;&quot;&quot;</emphasis>
<anchor xml:id="_game_8py_source_1l00191"/>00191 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1ab7e5f01f31ac2c8d44fccad531402534">player</link>.<link linkend="_classsystems_1_1game_1_1_game_1a0573c02b980933786722a627c642361d">get_craftable</link>()
<anchor xml:id="_game_8py_source_1l00192"/>00192 &#32;&#32;&#32;&#32;
<anchor xml:id="_game_8py_source_1l00193"/><link linkend="_classsystems_1_1game_1_1_game_1a2dc59b2bb8b6be0e2692f0e4b40d8e6e">00193</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classsystems_1_1game_1_1_game_1a2dc59b2bb8b6be0e2692f0e4b40d8e6e">get_uncraftable</link>(self):
<anchor xml:id="_game_8py_source_1l00194"/>00194 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="stringliteral">&quot;&quot;&quot;Returns&#32;a&#32;list&#32;of&#32;uncraftable&#32;recipes.&quot;&quot;&quot;</emphasis>
<anchor xml:id="_game_8py_source_1l00195"/>00195 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;self.<link linkend="_classsystems_1_1game_1_1_game_1ab7e5f01f31ac2c8d44fccad531402534">player</link>.<link linkend="_classsystems_1_1game_1_1_game_1a2dc59b2bb8b6be0e2692f0e4b40d8e6e">get_uncraftable</link>()
<anchor xml:id="_game_8py_source_1l00196"/>00196 
<anchor xml:id="_game_8py_source_1l00197"/>00197 
<anchor xml:id="_game_8py_source_1l00198"/>00198 &#32;&#32;&#32;&#32;
</programlisting></section>
