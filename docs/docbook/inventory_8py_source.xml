<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_inventory_8py_source" xml:lang="en-US">
<title>inventory.py</title>
<indexterm><primary>systems/inventory.py</primary></indexterm>
Go to the documentation of this file.<programlisting linenumbering="unnumbered"><anchor xml:id="_inventory_8py_source_1l00001"/><link linkend="_namespacesystems_1_1inventory">00001</link> <emphasis role="keyword">from</emphasis>&#32;.item&#32;<emphasis role="keyword">import</emphasis>&#32;InventoryItem,&#32;Item,&#32;PlaceholderInventoryItem
<anchor xml:id="_inventory_8py_source_1l00002"/>00002 <emphasis role="keyword">from</emphasis>&#32;.recipe&#32;<emphasis role="keyword">import</emphasis>&#32;Recipe
<anchor xml:id="_inventory_8py_source_1l00003"/>00003 
<anchor xml:id="_inventory_8py_source_1l00004"/><link linkend="_classsystems_1_1inventory_1_1_inventory">00004</link> <emphasis role="keyword">class&#32;</emphasis><link linkend="_classsystems_1_1inventory_1_1_inventory">Inventory</link>():
<anchor xml:id="_inventory_8py_source_1l00005"/><link linkend="_classsystems_1_1inventory_1_1_inventory_1a05363be0b8b0a0836f2103bde3ec805f">00005</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classsystems_1_1inventory_1_1_inventory_1a05363be0b8b0a0836f2103bde3ec805f">__init__</link>(self):
<anchor xml:id="_inventory_8py_source_1l00006"/><link linkend="_classsystems_1_1inventory_1_1_inventory_1a46cb72d24ee7ddde3772e49f16d3626e">00006</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1inventory_1_1_inventory_1a46cb72d24ee7ddde3772e49f16d3626e">items</link>&#32;=&#32;{}
<anchor xml:id="_inventory_8py_source_1l00007"/><link linkend="_classsystems_1_1inventory_1_1_inventory_1ab6e94a09686a079e880c760a95dc9fb1">00007</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1inventory_1_1_inventory_1ab6e94a09686a079e880c760a95dc9fb1">current_item</link>&#32;=&#32;<link linkend="_classsystems_1_1item_1_1_inventory_item">InventoryItem</link>(<emphasis role="stringliteral">&quot;Nothing&quot;</emphasis>,&#32;<emphasis role="stringliteral">&quot;I&#32;should&#32;look&#32;at&#32;something&#32;first...&quot;</emphasis>,&#32;0)
<anchor xml:id="_inventory_8py_source_1l00008"/>00008 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="_inventory_8py_source_1l00009"/><link linkend="_classsystems_1_1inventory_1_1_inventory_1a2a9b6ab4ab07aa361a79a34d94286f99">00009</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classsystems_1_1inventory_1_1_inventory_1a2a9b6ab4ab07aa361a79a34d94286f99">add_item</link>(self,&#32;item_id,&#32;count=1):
<anchor xml:id="_inventory_8py_source_1l00010"/>00010 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;type(count)&#32;!=&#32;int:
<anchor xml:id="_inventory_8py_source_1l00011"/>00011 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">raise</emphasis>&#32;TypeError(<emphasis role="stringliteral">&quot;{}&#32;is&#32;of&#32;type&#32;{},&#32;not&#32;{}&quot;</emphasis>.format(item_id,&#32;type(item_id),&#32;int))
<anchor xml:id="_inventory_8py_source_1l00012"/>00012 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;type(item_id)&#32;==&#32;str:
<anchor xml:id="_inventory_8py_source_1l00013"/>00013 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;item_id&#32;<emphasis role="keywordflow">in</emphasis>&#32;self.<link linkend="_classsystems_1_1inventory_1_1_inventory_1a46cb72d24ee7ddde3772e49f16d3626e">items</link>:
<anchor xml:id="_inventory_8py_source_1l00014"/>00014 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1inventory_1_1_inventory_1a46cb72d24ee7ddde3772e49f16d3626e">items</link>[item_id]&#32;+=&#32;count
<anchor xml:id="_inventory_8py_source_1l00015"/>00015 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>:
<anchor xml:id="_inventory_8py_source_1l00016"/>00016 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1inventory_1_1_inventory_1a46cb72d24ee7ddde3772e49f16d3626e">items</link>[item_id]&#32;=&#32;<link linkend="_classsystems_1_1item_1_1_placeholder_inventory_item">PlaceholderInventoryItem</link>(item_id,&#32;count)
<anchor xml:id="_inventory_8py_source_1l00017"/>00017 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">elif</emphasis>&#32;type(item_id)&#32;==&#32;(Item):
<anchor xml:id="_inventory_8py_source_1l00018"/>00018 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1inventory_1_1_inventory_1a46cb72d24ee7ddde3772e49f16d3626e">items</link>[item_id.id]&#32;=&#32;InventoryItem.from_item(item_id,&#32;count)
<anchor xml:id="_inventory_8py_source_1l00019"/>00019 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>:
<anchor xml:id="_inventory_8py_source_1l00020"/>00020 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">raise</emphasis>&#32;TypeError(<emphasis role="stringliteral">&quot;{}&#32;is&#32;of&#32;type&#32;{},&#32;not&#32;{}&#32;or&#32;{}&quot;</emphasis>.format(item_id,&#32;type(item_id),&#32;str,&#32;Item))
<anchor xml:id="_inventory_8py_source_1l00021"/>00021 
<anchor xml:id="_inventory_8py_source_1l00022"/><link linkend="_classsystems_1_1inventory_1_1_inventory_1a253e45a6b7735ad238f6b7b0e0f3a5f9">00022</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classsystems_1_1inventory_1_1_inventory_1a253e45a6b7735ad238f6b7b0e0f3a5f9">remove_item</link>(self,&#32;item,&#32;count=1):
<anchor xml:id="_inventory_8py_source_1l00023"/>00023 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;item&#32;<emphasis role="keywordflow">in</emphasis>&#32;self.<link linkend="_classsystems_1_1inventory_1_1_inventory_1a46cb72d24ee7ddde3772e49f16d3626e">items</link>:
<anchor xml:id="_inventory_8py_source_1l00024"/>00024 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1inventory_1_1_inventory_1a46cb72d24ee7ddde3772e49f16d3626e">items</link>[item]&#32;-=&#32;count
<anchor xml:id="_inventory_8py_source_1l00025"/>00025 &#32;&#32;&#32;&#32;
<anchor xml:id="_inventory_8py_source_1l00026"/><link linkend="_classsystems_1_1inventory_1_1_inventory_1a62e4cb749ee3429488d73680f936df29">00026</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classsystems_1_1inventory_1_1_inventory_1a62e4cb749ee3429488d73680f936df29">__getitem__</link>(self,&#32;item_id):
<anchor xml:id="_inventory_8py_source_1l00027"/>00027 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;self.<link linkend="_classsystems_1_1inventory_1_1_inventory_1a46cb72d24ee7ddde3772e49f16d3626e">items</link>[item_id]
<anchor xml:id="_inventory_8py_source_1l00028"/>00028 
<anchor xml:id="_inventory_8py_source_1l00029"/><link linkend="_classsystems_1_1inventory_1_1_inventory_1af94549a068e30c32b0d4112cefd3bfb2">00029</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classsystems_1_1inventory_1_1_inventory_1af94549a068e30c32b0d4112cefd3bfb2">__contains__</link>(self,&#32;key):
<anchor xml:id="_inventory_8py_source_1l00030"/>00030 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;type(key)&#32;==&#32;str:
<anchor xml:id="_inventory_8py_source_1l00031"/>00031 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;key&#32;<emphasis role="keywordflow">in</emphasis>&#32;self.<link linkend="_classsystems_1_1inventory_1_1_inventory_1a46cb72d24ee7ddde3772e49f16d3626e">items</link>
<anchor xml:id="_inventory_8py_source_1l00032"/>00032 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">elif</emphasis>&#32;type(key)&#32;==&#32;dict:
<anchor xml:id="_inventory_8py_source_1l00033"/>00033 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;self.<link linkend="_classsystems_1_1inventory_1_1_inventory_1a46cb72d24ee7ddde3772e49f16d3626e">items</link>[key[<emphasis role="stringliteral">&apos;id&apos;</emphasis>]].count&#32;&gt;=&#32;key[<emphasis role="stringliteral">&apos;count&apos;</emphasis>]
<anchor xml:id="_inventory_8py_source_1l00034"/>00034 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">elif</emphasis>&#32;type(key)&#32;==&#32;tuple:
<anchor xml:id="_inventory_8py_source_1l00035"/>00035 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;self.<link linkend="_classsystems_1_1inventory_1_1_inventory_1a46cb72d24ee7ddde3772e49f16d3626e">items</link>[key[0]].count&#32;&gt;=&#32;key[1]
<anchor xml:id="_inventory_8py_source_1l00036"/>00036 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">elif</emphasis>&#32;type(key)&#32;==&#32;list:
<anchor xml:id="_inventory_8py_source_1l00037"/>00037 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;all([type(i)&#32;==&#32;tuple&#32;<emphasis role="keywordflow">for</emphasis>&#32;i&#32;<emphasis role="keywordflow">in</emphasis>&#32;key]):
<anchor xml:id="_inventory_8py_source_1l00038"/>00038 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;all([len(i)&#32;==&#32;2&#32;<emphasis role="keywordflow">for</emphasis>&#32;i&#32;<emphasis role="keywordflow">in</emphasis>&#32;key]):
<anchor xml:id="_inventory_8py_source_1l00039"/>00039 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;all([self.<link linkend="_classsystems_1_1inventory_1_1_inventory_1a46cb72d24ee7ddde3772e49f16d3626e">items</link>[i[0]].count&#32;&gt;=&#32;i[1]&#32;<emphasis role="keywordflow">for</emphasis>&#32;i&#32;<emphasis role="keywordflow">in</emphasis>&#32;key])
<anchor xml:id="_inventory_8py_source_1l00040"/>00040 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>:
<anchor xml:id="_inventory_8py_source_1l00041"/>00041 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">raise</emphasis>&#32;ValueError(<emphasis role="stringliteral">&quot;All&#32;tuples&#32;must&#32;be&#32;of&#32;types&#32;(&lt;str&gt;,&#32;&lt;int&gt;&quot;</emphasis>)
<anchor xml:id="_inventory_8py_source_1l00042"/>00042 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">elif</emphasis>&#32;len(key)&#32;==&#32;2:
<anchor xml:id="_inventory_8py_source_1l00043"/>00043 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;self.<link linkend="_classsystems_1_1inventory_1_1_inventory_1a46cb72d24ee7ddde3772e49f16d3626e">items</link>[key[0]].count&#32;&gt;=&#32;key[1]
<anchor xml:id="_inventory_8py_source_1l00044"/>00044 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>:
<anchor xml:id="_inventory_8py_source_1l00045"/>00045 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">raise</emphasis>&#32;ValueError(<emphasis role="stringliteral">&quot;Must&#32;be&#32;a&#32;list&#32;of&#32;tuples&#32;of&#32;types&#32;(&lt;str&gt;,&#32;&lt;int&gt;)&quot;</emphasis>)
<anchor xml:id="_inventory_8py_source_1l00046"/>00046 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>:
<anchor xml:id="_inventory_8py_source_1l00047"/>00047 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">raise</emphasis>&#32;ValueError(<emphasis role="stringliteral">&quot;Input&#32;must&#32;be&#32;of&#32;types&#32;&lt;str&gt;,&#32;&lt;dict&gt;,&#32;&lt;tuple&gt;,&#32;list[&lt;str&gt;,&#32;&lt;int&gt;]&#32;or&#32;list[(&lt;str&gt;,&lt;int&gt;)]&quot;</emphasis>)
<anchor xml:id="_inventory_8py_source_1l00048"/>00048 
<anchor xml:id="_inventory_8py_source_1l00049"/>00049 &#32;&#32;&#32;&#32;
<anchor xml:id="_inventory_8py_source_1l00050"/><link linkend="_classsystems_1_1inventory_1_1_inventory_1ad71d92b5ac7b2b852780a28e2ece8976">00050</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classsystems_1_1inventory_1_1_inventory_1ad71d92b5ac7b2b852780a28e2ece8976">get_items</link>(self):
<anchor xml:id="_inventory_8py_source_1l00051"/>00051 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;[[<emphasis role="stringliteral">&quot;{}&#32;x{}&quot;</emphasis>.format(i[0],&#32;i[1]),&#32;i[0]]&#32;<emphasis role="keywordflow">for</emphasis>&#32;i&#32;<emphasis role="keywordflow">in</emphasis>&#32;list(filter(<emphasis role="keyword">lambda</emphasis>&#32;i:&#32;i[1]&#32;&gt;&#32;0,&#32;self.<link linkend="_classsystems_1_1inventory_1_1_inventory_1a46cb72d24ee7ddde3772e49f16d3626e">items</link>.<link linkend="_classsystems_1_1inventory_1_1_inventory_1a46cb72d24ee7ddde3772e49f16d3626e">items</link>()))]
<anchor xml:id="_inventory_8py_source_1l00052"/>00052 
<anchor xml:id="_inventory_8py_source_1l00053"/><link linkend="_classsystems_1_1inventory_1_1_inventory_1a023d4484ac865705321f25b073194c18">00053</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classsystems_1_1inventory_1_1_inventory_1a023d4484ac865705321f25b073194c18">get_item_count</link>(self,&#32;item):
<anchor xml:id="_inventory_8py_source_1l00054"/>00054 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;self.<link linkend="_classsystems_1_1inventory_1_1_inventory_1a46cb72d24ee7ddde3772e49f16d3626e">items</link>.has_key(item):
<anchor xml:id="_inventory_8py_source_1l00055"/>00055 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;self.<link linkend="_classsystems_1_1inventory_1_1_inventory_1a46cb72d24ee7ddde3772e49f16d3626e">items</link>[item]
<anchor xml:id="_inventory_8py_source_1l00056"/>00056 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;0
<anchor xml:id="_inventory_8py_source_1l00057"/>00057 
<anchor xml:id="_inventory_8py_source_1l00058"/><link linkend="_classsystems_1_1inventory_1_1_inventory_1a72472e4eb275235c6c4e88a2011050cc">00058</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classsystems_1_1inventory_1_1_inventory_1a72472e4eb275235c6c4e88a2011050cc">set_current_item</link>(self,&#32;item):
<anchor xml:id="_inventory_8py_source_1l00059"/>00059 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="_classsystems_1_1inventory_1_1_inventory_1ab6e94a09686a079e880c760a95dc9fb1">current_item</link>&#32;=&#32;item
<anchor xml:id="_inventory_8py_source_1l00060"/>00060 &#32;&#32;&#32;&#32;
<anchor xml:id="_inventory_8py_source_1l00061"/><link linkend="_classsystems_1_1inventory_1_1_inventory_1abea50e459d120b60dae416d4ab523355">00061</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">def&#32;</emphasis><link linkend="_classsystems_1_1inventory_1_1_inventory_1abea50e459d120b60dae416d4ab523355">get_current_item</link>(self):
<anchor xml:id="_inventory_8py_source_1l00062"/>00062 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;self.<link linkend="_classsystems_1_1inventory_1_1_inventory_1ab6e94a09686a079e880c760a95dc9fb1">current_item</link>
</programlisting></section>
