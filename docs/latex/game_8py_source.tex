\hypertarget{game_8py_source}{}\doxysection{game.\+py}
\label{game_8py_source}\index{systems/game.py@{systems/game.py}}
\mbox{\hyperlink{game_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00001}\mbox{\hyperlink{namespacesystems_1_1game}{00001}} \textcolor{keyword}{from} .database \textcolor{keyword}{import} Database}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00002}00002 \textcolor{keyword}{from} .player \textcolor{keyword}{import} Player}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00003}00003 \textcolor{keyword}{from} .quests \textcolor{keyword}{import} Quest}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00004}\mbox{\hyperlink{classsystems_1_1game_1_1_game}{00004}} \textcolor{keyword}{class }\mbox{\hyperlink{classsystems_1_1game_1_1_game}{Game}}(object):}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00005}\mbox{\hyperlink{classsystems_1_1game_1_1_game_a0dad2af0de9d446b1c89ff17b6b3967c}{00005}}     \textcolor{keyword}{def }\mbox{\hyperlink{classsystems_1_1game_1_1_game_a0dad2af0de9d446b1c89ff17b6b3967c}{\_\_init\_\_}}(self):}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00006}\mbox{\hyperlink{classsystems_1_1game_1_1_game_a8d2c7ed5a3b01cdfbc317e59fd0b9f40}{00006}}         self.\mbox{\hyperlink{classsystems_1_1game_1_1_game_a8d2c7ed5a3b01cdfbc317e59fd0b9f40}{people}} = \{\}}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00007}\mbox{\hyperlink{classsystems_1_1game_1_1_game_ab59fb836a7c2cb5a1a297f4383bdf374}{00007}}         self.\mbox{\hyperlink{classsystems_1_1game_1_1_game_ab59fb836a7c2cb5a1a297f4383bdf374}{db}}  = \mbox{\hyperlink{classsystems_1_1database_1_1_database}{Database}}()}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00008}\mbox{\hyperlink{classsystems_1_1game_1_1_game_ab7e5f01f31ac2c8d44fccad531402534}{00008}}         self.\mbox{\hyperlink{classsystems_1_1game_1_1_game_ab7e5f01f31ac2c8d44fccad531402534}{player}} = \mbox{\hyperlink{classsystems_1_1player_1_1_player}{Player}}()}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00009}00009     \textcolor{comment}{\# characters = \{}}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00010}00010     \textcolor{comment}{\#   \# list of character and info}}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00011}00011     \textcolor{comment}{\# \}}}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00012}00012 }
\DoxyCodeLine{\Hypertarget{game_8py_source_l00013}\mbox{\hyperlink{classsystems_1_1game_1_1_game_aea23c41a7da5bb1eafcf4fc46219e07e}{00013}}     \textcolor{keyword}{def }\mbox{\hyperlink{classsystems_1_1game_1_1_game_aea23c41a7da5bb1eafcf4fc46219e07e}{game\_event}}(func):}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00014}00014         \textcolor{keyword}{def }wrapper(*args, **kwargs):}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00015}00015             print(args)}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00016}00016             func(*args[1:])}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00017}00017             args[0].\mbox{\hyperlink{classsystems_1_1game_1_1_game_acb1e8ccfd196c887f110ee3a8f12d2b9}{update}}()}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00018}00018         \textcolor{keywordflow}{return} wrapper}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00019}00019 }
\DoxyCodeLine{\Hypertarget{game_8py_source_l00020}\mbox{\hyperlink{classsystems_1_1game_1_1_game_a1d2b00fb7920e4736c00e851670e1761}{00020}}     \textcolor{keyword}{def }\mbox{\hyperlink{classsystems_1_1game_1_1_game_a1d2b00fb7920e4736c00e851670e1761}{setup}}(self,}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00021}00021         people = None,}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00022}00022         locations = None,}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00023}00023         from\_db = None,}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00024}00024         fps = False}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00025}00025     ):}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00026}00026         \textcolor{keywordflow}{if} from\_db:}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00027}00027             \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00028}00028             self.\mbox{\hyperlink{classsystems_1_1game_1_1_game_ab59fb836a7c2cb5a1a297f4383bdf374}{db}}.load\_items\_from\_file(fps[\textcolor{stringliteral}{'items'}])}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00029}00029             self.\mbox{\hyperlink{classsystems_1_1game_1_1_game_ab59fb836a7c2cb5a1a297f4383bdf374}{db}}.load\_recipes\_from\_file(fps[\textcolor{stringliteral}{'recipes'}])}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00030}00030         \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00031}00031             \textcolor{keywordflow}{if} people:}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00032}00032                 self.\mbox{\hyperlink{classsystems_1_1game_1_1_game_a8d2c7ed5a3b01cdfbc317e59fd0b9f40}{people}} = people}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00033}00033             \textcolor{keywordflow}{if} locations:}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00034}\mbox{\hyperlink{classsystems_1_1game_1_1_game_a8ff7162c9f84eb5bd70e3f5ac1c46716}{00034}}                 self.\mbox{\hyperlink{classsystems_1_1game_1_1_game_a8ff7162c9f84eb5bd70e3f5ac1c46716}{location}} = locations}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00035}00035     \textcolor{comment}{\# @game\_event   }}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00036}\mbox{\hyperlink{classsystems_1_1game_1_1_game_ae1914099705c785ad7b1d88a1481fd7e}{00036}}     \textcolor{keyword}{def }\mbox{\hyperlink{classsystems_1_1game_1_1_game_ae1914099705c785ad7b1d88a1481fd7e}{start\_quest}}(self, quest\_id= None, quest\_object = None):}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00037}00037         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} (isinstance(quest\_id, str) \textcolor{keywordflow}{or} type(quest\_id) != \textcolor{keywordtype}{None}):}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00038}00038             \textcolor{keywordflow}{raise} TypeError(\textcolor{stringliteral}{"{}quest\_id is not a <str>, is type \{\}"{}}.format(type(quest\_id)))}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00039}00039         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} (isinstance(quest\_object, Quest) \textcolor{keywordflow}{or} type(quest\_object) != \textcolor{keywordtype}{None}):}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00040}00040             \textcolor{keywordflow}{raise} TypeError(\textcolor{stringliteral}{"{}quest\_object is not a <Quest>"{}})}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00041}00041         \textcolor{keywordflow}{if} quest\_id \textcolor{keywordflow}{and} \textcolor{keywordflow}{not} quest\_object:}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00042}00042             self.\mbox{\hyperlink{classsystems_1_1game_1_1_game_ab7e5f01f31ac2c8d44fccad531402534}{player}}.\mbox{\hyperlink{classsystems_1_1game_1_1_game_ae1914099705c785ad7b1d88a1481fd7e}{start\_quest}}(quest\_id, self.\mbox{\hyperlink{classsystems_1_1game_1_1_game_ab59fb836a7c2cb5a1a297f4383bdf374}{db}}.get\_quest(quest\_id))}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00043}00043         \textcolor{keywordflow}{elif} quest\_id \textcolor{keywordflow}{and} quest\_object:}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00044}00044             self.\mbox{\hyperlink{classsystems_1_1game_1_1_game_ab7e5f01f31ac2c8d44fccad531402534}{player}}.\mbox{\hyperlink{classsystems_1_1game_1_1_game_ae1914099705c785ad7b1d88a1481fd7e}{start\_quest}}(quest\_id, quest\_object)}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00045}00045         \textcolor{keywordflow}{elif} quest\_object:}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00046}00046             self.\mbox{\hyperlink{classsystems_1_1game_1_1_game_ab7e5f01f31ac2c8d44fccad531402534}{player}}.\mbox{\hyperlink{classsystems_1_1game_1_1_game_ae1914099705c785ad7b1d88a1481fd7e}{start\_quest}}(quest\_object.id, quest\_object)}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00047}00047         \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00048}00048             \textcolor{keywordflow}{raise} ValueError()}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00049}00049         self.\mbox{\hyperlink{classsystems_1_1game_1_1_game_acb1e8ccfd196c887f110ee3a8f12d2b9}{update}}()}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00050}00050     }
\DoxyCodeLine{\Hypertarget{game_8py_source_l00051}\mbox{\hyperlink{classsystems_1_1game_1_1_game_acb1e8ccfd196c887f110ee3a8f12d2b9}{00051}}     \textcolor{keyword}{def }\mbox{\hyperlink{classsystems_1_1game_1_1_game_acb1e8ccfd196c887f110ee3a8f12d2b9}{update}}(self):}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00052}00052         self.\mbox{\hyperlink{classsystems_1_1game_1_1_game_aa72bcad0b355393a8909707989bd6578}{update\_quests}}()}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00053}00053         \textcolor{keywordflow}{pass}}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00054}00054 }
\DoxyCodeLine{\Hypertarget{game_8py_source_l00055}\mbox{\hyperlink{classsystems_1_1game_1_1_game_aa72bcad0b355393a8909707989bd6578}{00055}}     \textcolor{keyword}{def }\mbox{\hyperlink{classsystems_1_1game_1_1_game_aa72bcad0b355393a8909707989bd6578}{update\_quests}}(self):}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00056}00056         \textcolor{keywordflow}{for} q \textcolor{keywordflow}{in} self.\mbox{\hyperlink{classsystems_1_1game_1_1_game_ab7e5f01f31ac2c8d44fccad531402534}{player}}.questlog.get\_active():}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00057}00057             complete = \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00058}00058             \textcolor{comment}{\# substages}}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00059}00059             reqs = q.requirements}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00060}00060             \textcolor{keywordflow}{if} \textcolor{stringliteral}{"{}substage"{}} \textcolor{keywordflow}{in} reqs:}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00061}00061                 \textcolor{keywordflow}{if} reqs[\textcolor{stringliteral}{'substage'}] == \textcolor{stringliteral}{'all'}:}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00062}00062                     \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} all([s.complete \textcolor{keywordflow}{for} s \textcolor{keywordflow}{in} q.substages]):}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00063}00063                         complete = \textcolor{keyword}{False} }
\DoxyCodeLine{\Hypertarget{game_8py_source_l00064}00064                 \textcolor{keywordflow}{if} reqs[\textcolor{stringliteral}{'substage'}] == \textcolor{stringliteral}{'any'}:}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00065}00065                     \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} any([s.complete \textcolor{keywordflow}{for} s \textcolor{keywordflow}{in} q.substages]):}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00066}00066                         complete = \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00067}00067             \textcolor{comment}{\# items}}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00068}00068             \textcolor{keywordflow}{if} \textcolor{stringliteral}{"{}item"{}} \textcolor{keywordflow}{in} reqs:}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00069}00069                 \textcolor{comment}{\# print(reqs['item'])}}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00070}00070                 items\_present = [(i \textcolor{keywordflow}{in} self.\mbox{\hyperlink{classsystems_1_1game_1_1_game_ab7e5f01f31ac2c8d44fccad531402534}{player}}.inventory) \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} reqs[\textcolor{stringliteral}{'item'}][\textcolor{stringliteral}{'ids'}]]}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00071}00071 }
\DoxyCodeLine{\Hypertarget{game_8py_source_l00072}00072                 \textcolor{keywordflow}{if} reqs[\textcolor{stringliteral}{'item'}][\textcolor{stringliteral}{'all'}]:}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00073}00073                     \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} all(items\_present):}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00074}00074                         complete = \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00075}00075                 \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00076}00076                     \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} any(items\_present):}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00077}00077                         complete = \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00078}00078             \textcolor{keywordflow}{if} complete:}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00079}00079                 q.complete()}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00080}00080             \textcolor{keywordflow}{pass}}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00081}00081         \textcolor{keywordflow}{pass}}
\DoxyCodeLine{\Hypertarget{game_8py_source_l00082}00082 }
\DoxyCodeLine{\Hypertarget{game_8py_source_l00083}00083 }
\DoxyCodeLine{\Hypertarget{game_8py_source_l00084}00084     }

\end{DoxyCode}
